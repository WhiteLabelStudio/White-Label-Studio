<div class="row">
    <div class="col-12">
        <div widget class="card">
            <div class="card-header">
                <span>Solution Trail Request Tool</span>
                <div class="widget-controls">
                    <a data-widgster="expand" href="#" class="transition"><i class="fa fa-chevron-down"></i></a>
                    <a data-widgster="collapse" href="#" class="transition"><i class="fa fa-chevron-up"></i></a>
                    <a data-widgster="fullscreen" href="#" class="transition"><i class="fa fa-expand"></i></a>
                    <a data-widgster="restore" href="#" class="transition"><i class="fa fa-compress"></i></a>
                    <a data-widgster="close" href="#" class="transition"><i class="fa fa-times"></i></a>
                </div>
            </div>
            <div class="card-body widget-body">
                <div class="row">
                    <div *ngFor="let step of steps; let last = last" class="col-md-3 col-sm-6 col-12 step"
                        [class.active]="step.active" [class.valid]="step.valid" [ngClass]="{'last' : last }">
                        <div class="step-icon">
                            <i class="fa {{ step.icon }}" aria-hidden="true" style="color:white;"></i>
                        </div>
                        <span class="step-name" [class.active]="step.active"
                            [class.valid]="step.valid">{{step.name}}</span>
                    </div>
                </div>

                <div *ngFor="let step of steps" [hidden]="!step.active" class="col form-wizard">
                    <div class="row form-title">
                        <h4><i class="fa {{ step.icon }}"></i> {{step.name}}</h4>
                    </div>

                    <form *ngIf="step.name=='Contact Details'" [formGroup]="accountForm">

                        <!-- <div class="form-group col-md-7 mb-3">
                            <label class="form-control-label">Customer Name</label>
                            <div class="input-group"> 
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fa fa-user-o"></i></span>
                                </div>
                                <input formControlName="username" class="form-control" type="text"> 
                            </div>
                         </div>
                         <div class="form-group col-md-7 mb-3">
                                <label for="customerType">Demoed Product</label>
                                <select class="form-control" id="probability">
                                    <option>Not related to Demo</option>
                                    <option>VNS</option>
                                    <option>VCS</option>
                                    <option>Both</option>
                                </select>
                            </div>-->

                        <div class="row">
                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label for="customerName">Customer Name</label>
                                    <input type="text" class="form-control" id="inputFirstName">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label for="customerName">Sales Engineer Resource</label>
                                    <input type="text" class="form-control" id="inputFirstName">
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label for="endCustomer">IPCC Resource</label>
                                    <input type="text" class="form-control" id="inputLastName">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label for="customerName">Account Manager</label>
                                    <input type="text" class="form-control" id="inputFirstName">
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label for="endCustomer">NPI Resource</label>
                                    <input type="text" class="form-control" id="inputLastName">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label for="customerType">Demoed Product</label>
                                    <select class="form-control" id="probability">
                                        <option>Not related to Demo</option>
                                        <option>VNS</option>
                                        <option>VCS</option>
                                        <option>Both</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label for="customerName">Nokia Trial Requestor Name</label>
                                    <input type="text" class="form-control" id="inputFirstName">
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label for="endCustomer">Nokia Trial Requestor Job Title</label>
                                    <input type="text" class="form-control" id="inputLastName">
                                </div>
                            </div>
                        </div>
                    </form>

                    <form *ngIf="step.name=='Solution Request Details'" [formGroup]="personalForm">
                        <!--   <div class="form-group col-md-2">
                            <label class="form-control-label">Salutation</label>
                            <select formControlName="salutation" class="form-control">
                                <option>Mr</option>
                                <option>Mrs</option>
                            </select>
                        </div>      

                        <div class="form-group col-md-5" [ngClass]="{'has-danger' : step.hasError && personalForm.get('firstname').hasError('required'), 'has-success' : !personalForm.get('firstname').hasError('required') }">
                            <label class="form-control-label">First Name</label>
                            <input formControlName="firstname" class="form-control" [ngClass]="{'form-control-danger' :  personalForm.get('firstname').hasError('required'), 'form-control-success' :  !personalForm.get('firstname').hasError('required') }" type="text"> 
                            <span class="help-block text-danger" *ngIf="step.hasError && personalForm.get('firstname').hasError('required')">First Name is required</span>                             
                        </div>

                        <div class="form-group col-md-5" [ngClass]="{'has-danger' : step.hasError && personalForm.get('lastname').hasError('required'), 'has-success' : !personalForm.get('lastname').hasError('required') }">
                            <label class="form-control-label">Last Name</label>
                            <input formControlName="lastname" class="form-control" [ngClass]="{'form-control-danger' :  personalForm.get('lastname').hasError('required'), 'form-control-success' :  !personalForm.get('lastname').hasError('required') }" type="text"> 
                            <span class="help-block text-danger" *ngIf="step.hasError && personalForm.get('lastname').hasError('required')">Last Name is required</span>                             
                        </div>

                        <div class="form-group col-md-3">
                            <label class="form-control-label">Gender</label>
                            <select formControlName="gender" class="form-control">
                                <option>Male</option>
                                <option>Female</option>
                            </select>
                        </div>

                        <div class="form-group col-md-5" [ngClass]="{'has-danger' : (step.hasError && personalForm.get('email').hasError('required')) || (step.hasError && personalForm.get('email').hasError('invalidEmail')), 
                                                                     'has-success' : !personalForm.get('email').hasError('required') && !personalForm.get('email').hasError('invalidEmail')}">
                            <label class="form-control-label">Contact email</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fa fa-envelope"></i></span>
                                </div> 
                                <input formControlName="email" class="form-control" [ngClass]="{'form-control-danger' : (step.hasError && personalForm.get('email').hasError('required')) || (step.hasError && personalForm.get('email').hasError('invalidEmail')), 
                                                                                                'form-control-success' :  !personalForm.get('email').hasError('required') && !personalForm.get('email').hasError('invalidEmail')}" type="text">                      
                            </div>
                            <span class="help-block text-danger" *ngIf="step.hasError && personalForm.get('email').hasError('required')">Email is required</span>                              
                            <span class="help-block text-danger" *ngIf="step.hasError && personalForm.get('email').hasError('invalidEmail')">Invalid email address</span>
                        </div>

                        <div class="form-group col-md-4" [ngClass]="{'has-danger' : step.hasError && personalForm.get('phone').hasError('required'), 'has-success' : !personalForm.get('phone').hasError('required') }">
                            <label class="form-control-label">Phone</label>
                            <div class="input-group">
                                <div class="input-group-addon"><i class="fa fa-phone"></i></div>
                                <input formControlName="phone" class="form-control" [ngClass]="{'form-control-danger' :  personalForm.get('phone').hasError('required'), 'form-control-success' :  !personalForm.get('phone').hasError('required') }" type="number"> 
                            </div>
                            <span class="help-block text-danger" *ngIf="step.hasError && personalForm.get('phone').hasError('required')">Phone is required</span>                             
                        </div>

                        <div class="form-group col-md-2" [ngClass]="{'has-danger' : step.hasError && personalForm.get('zipcode').hasError('required'), 'has-success' : !personalForm.get('zipcode').hasError('required') }">
                            <label class="form-control-label">Zip Code</label>
                            <input formControlName="zipcode" class="form-control" [ngClass]="{'form-control-danger' :  personalForm.get('zipcode').hasError('required'), 'form-control-success' :  !personalForm.get('zipcode').hasError('required') }" type="text"> 
                            <span class="help-block text-danger" *ngIf="step.hasError && personalForm.get('zipcode').hasError('required')">required</span>                             
                        </div>

                        <div class="form-group col-md-5" [ngClass]="{'has-danger' : step.hasError && personalForm.get('country').hasError('required'), 'has-success' : !personalForm.get('country').hasError('required') }">
                            <label class="form-control-label">Select Country</label>
                            <select formControlName="country" class="form-control" [ngClass]="{'form-control-danger' : step.hasError && personalForm.get('country').hasError('required'), 'form-control-success' : !personalForm.get('country').hasError('required') }">
                                <option>USA</option>
                                <option>Canada</option>
                                <option>Mexico</option>
                                <option>UK</option>
                                <option>France</option>
                                <option>Italy</option>
                            </select>
                            <span class="help-block text-danger" *ngIf="step.hasError && personalForm.get('country').hasError('required')">Country is required</span>                             
                        </div>

                        <div class="form-group col-md-5">
                            <label class="form-control-label">Select State</label>
                            <select formControlName="state" class="form-control">
                                <option>Arkansas</option>
                                <option>Texas</option>
                                <option>California</option>
                                <option>Florida</option>
                                <option>Other</option>
                            </select>
                        </div>
                        
                        <div class="form-group col">
                            <label class="form-control-label">Address</label>
                            <textarea formControlName="address" class="form-control"></textarea>
                        </div>  -->
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label for="customerName">Product Requested for Trail</label>
                                    <select class="form-control" id="probability">
                                        <option>VNS</option>
                                        <option>VCS</option>
                                        <option>Both</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label for="endCustomer">Type of Activity</label>
                                    <select class="form-control" id="probability">
                                        <option>Pre Sale</option>
                                        <option>Try and Buy</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <!-- <div class="col-sm-6" >
                                        <div class="col bottom-15">
                                            <h6>Travel Required?</h6>
                                            <div class="custom-control custom-radio custom-control-inline">
                                                <input id="radio1" type="radio" name="radioInline" class="custom-control-input" checked>
                                                <label class="custom-control-label" for="radio1">Yes</label>
                                            </div>
                                            <div class="custom-control custom-radio custom-control-inline">
                                                <input id="radio2" type="radio" name="radioInline" class="custom-control-input">
                                                <label class="custom-control-label" for="radio2">No</label>
                                            </div>
                                        </div>
                                    </div>-->
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label for="customerName">Type of Solution</label>
                                    <select class="form-control" id="probability">
                                        <option>Cloud</option>
                                        <option>On-site</option>
                                        <option>Hybrid</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label for="endCustomer">Lab</label>
                                    <select class="form-control" id="probability">
                                        <option>Nokia</option>
                                        <option>Customer</option>
                                        <option>Customer</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label for="endCustomer">Requested trail Date</label>
                                    <input type="date" class="form-control" id="inputLastName">
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label for="endCustomer">Actual Exicution Date</label>
                                    <input type="date" class="form-control" id="inputLastName">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="col bottom-15">
                                    <h6>Travel Required?</h6>
                                    <div class="custom-control custom-radio custom-control-inline">
                                        <input id="radio1" type="radio" name="radioInline" class="custom-control-input"
                                            checked>
                                        <label class="custom-control-label" for="radio1">Yes</label>
                                    </div>
                                    <div class="custom-control custom-radio custom-control-inline">
                                        <input id="radio2" type="radio" name="radioInline" class="custom-control-input">
                                        <label class="custom-control-label" for="radio2">No</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>

                    <form *ngIf="step.name=='Selected Features'" [formGroup]="paymentForm">
                        <div class="row">
                                <div class="col-sm-6">
                                        <div class="form-group">
                                            <label for="endCustomer">Product Type</label>
                                            <select class="form-control" id="probability">
                                                <option>VNS</option>
                                                <option>VCS</option>
                                            </select>
                                        </div>
                                    </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label for="customerName">Features</label>
                                    <select class="form-control" id="probability">
                                            <option>Bootstraping</option>
                                            <option>Bootstraping+NAT</option>
                                            <option>Security Policies</option>
                                            <option>Platform Redudancy</option>
                                            <option>Topology</option>
                                            <option>NSG Operations</option>
                                            <option>Gateway Operations</option>
                                            <option>Dual Uplink</option>
                                            <option>NAT Traversal</option>
                                            <option>NSG BR</option>
                                            <option>IPV6</option>
                                            <option>Connectivity(L2/L3)</option>
                                            <option>QoS</option>
                                            <option>PAT</option>
                                            <option>Access Resiliency</option>
                                            <option>Service Chaining</option>
                                            <option>DNS Subnets</option>
                                            <option>Routing</option>
                                            <option>IPSEC</option>
                                            <option>VNF</option>
                                            <option>WiFi on NSG</option>
                                            <option>Other Information</option>
                                        </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label for="customerName">Account Manager</label>
                                    <input type="text" class="form-control" id="inputFirstName">
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label for="endCustomer">NPI Resource</label>
                                    <input type="text" class="form-control" id="inputLastName">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label for="customerName">Nokia Trial Requestor Name</label>
                                    <input type="text" class="form-control" id="inputFirstName">
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label for="endCustomer">Nokia Trial Requestor Job Title</label>
                                    <input type="text" class="form-control" id="inputLastName">
                                </div>
                            </div>
                        </div>
                    </form>


                    <form *ngIf="step.name=='Trail Details'" [formGroup]="paymentForm">
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label for="customerName">Trail Demo WebEx URL</label>
                                    <input type="text" class="form-control" id="inputFirstName">
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label for="customerName">Status</label>
                                    <select class="form-control" id="probability">
                                        <option>Active</option>
                                        <option>Completed</option>
                                        <option>On-hold</option>
                                        <option>Closed-out</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="form-group">
                                    <textarea class="form-control" placeholder="Summary" rows="3"></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                                <div class="col-sm-12">
                                        <form action="#" class="dropzone ng-untouched ng-pristine ng-valid" dropzone id="my-awesome-dropzone" novalidate>
                                            <div class="dz-default dz-message"><span>Drop files here to upload</span></div></form>
                                    </div>
                        </div>
                    </form>
<br>


                    <div class="row">
                        <div class="col-12">
                            <button class="btn btn-primary pull-left" (click)="prev()"><i
                                    class="fa fa-chevron-left arrow"></i>&nbsp; Prev Step</button>
                            <button class="btn btn-primary pull-right" *ngIf="!steps[steps.length-1].active"
                                (click)="next()">Next Step &nbsp;<i class="fa fa-chevron-right arrow"></i></button>
                            <button *ngIf="steps[steps.length-1].active" class="btn btn-primary pull-right"
                                (click)="confirm()">Confirm &nbsp;<i class="fa fa-check arrow"></i></button>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>