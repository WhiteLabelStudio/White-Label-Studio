{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{\"0hTD\":function(e,t,i){\"use strict\";i.d(t,\"a\",(function(){return s}));class s{}},QTam:function(e,t){!function(e,t){\"use strict\";var i,s;e.jQuery&&e.jQuery.fn?(i=e.jQuery,(s=function(e,t){this.$element=i(e),this.$collapse=this.$element.find(\"[data-widgster=collapse]\"),this.$expand=this.$element.find(\"[data-widgster=expand]\"),this.$fullscreen=this.$element.find(\"[data-widgster=fullscreen]\"),this.$restore=this.$element.find(\"[data-widgster=restore]\"),this.options=t,this.collapsed=t.collapsed,this.fullscreened=t.fullscreened,this._initHandlers(),this.collapsed?this.collapse(!1):this.$expand.hide(),this.fullscreened?this.fullscreen():this.$restore.hide(),this.options.autoload&&this.load();var s=parseInt(this.options.autoload);if(!isNaN(s)){var n=this;this._autoloadInterval=setInterval((function(){n.load()}),s)}}).DEFAULTS={collapsed:!1,fullscreened:!1,transitionDuration:150,bodySelector:\".body\",showLoader:!0,autoload:!1,loaderTemplate:'<div style=\"text-align: center; margin-top: 10px;\">Loading...</div>',closePrompt:function(e){e()}},s.prototype.collapse=function(e){e=void 0===e||e;var t=i.Event(\"collapse.widgster\");if(this.$element.trigger(t),!t.isDefaultPrevented()){var s=this,n=e?this.options.transitionDuration:0;return this.$element.find(this.options.bodySelector).slideUp(n,(function(){s.$element.addClass(\"collapsed\"),s.$element.trigger(i.Event(\"collapsed.widgster\")),s.collapsed=!0})),this.$collapse.hide(),this.$expand.show(),!1}},s.prototype.expand=function(e){e=void 0===e||e;var t=i.Event(\"expand.widgster\");if(this.$element.trigger(t),!t.isDefaultPrevented()){var s=this,n=e?this.options.transitionDuration:0;return this.$element.find(this.options.bodySelector).slideDown(n,(function(){s.$element.removeClass(\"collapsed\"),s.$element.trigger(i.Event(\"expanded.widgster\")),s.collapsed=!1})),this.$collapse.show(),this.$expand.hide(),!1}},s.prototype.close=function(){return this.options.closePrompt&&this.options.closePrompt(i.proxy(this._doClose,this)),!1},s.prototype.load=function(){var e=i.Event(\"load.widgster\");if(this.$element.trigger(e),!e.isDefaultPrevented()){var t=this;return this.$element.find(this.options.bodySelector).load(this.options.load,(function(e,s,n){t.expand(),t.options.showLoader&&t._hideLoader(),t.$element.trigger(i.Event(\"loaded.widgster\",{responseText:e,textStatus:s,xhr:n}))})),this.options.showLoader&&this._showLoader(),!1}},s.prototype.fullscreen=function(){var e=i.Event(\"fullscreen.widgster\");if(this.$element.trigger(e),!e.isDefaultPrevented())return this.$element.css({position:\"fixed\",top:0,right:0,bottom:0,left:0,margin:0,\"z-index\":1e4}),i(\"body\").css(\"overflow\",\"hidden\"),this.wasCollapsed=this.collapsed,this.expand(!1),this.$fullscreen.hide(),this.$restore.show(),this.$collapse.hide(),this.$expand.hide(),this.$element.addClass(\"fullscreened\"),this.$element.trigger(i.Event(\"fullscreened.widgster\")),!1},s.prototype.restore=function(){var e=i.Event(\"restore.widgster\");if(this.$element.trigger(e),!e.isDefaultPrevented())return this.$element.css({position:\"\",top:\"\",right:\"\",bottom:\"\",left:\"\",margin:\"\",\"z-index\":\"\"}),i(\"body\").css(\"overflow\",\"\"),this.$fullscreen.show(),this.$restore.hide(),this.collapsed?(this.$collapse.hide(),this.$expand.show()):(this.$collapse.show(),this.$expand.hide()),this.wasCollapsed&&this.collapse(!1),this.$element.removeClass(\"fullscreened\"),this.$element.trigger(i.Event(\"restored.widgster\")),!1},s.prototype._doClose=function(){var e=i.Event(\"close.widgster\");this.$element.trigger(e),e.isDefaultPrevented()||(i(\"body\").css(\"overflow\",\"\"),this.$element.detach(),e=i.Event(\"closed.widgster\",{$element:this.$element}),this.$element.trigger(e))},s.prototype._showLoader=function(){var e=this.$element.find(this.options.bodySelector);this.$loaderWrap=this.$element.find(\".widgster-loader-wrap\"),0==this.$loaderWrap.length&&(this.$loaderWrap=i('<div class=\"widgster-loader-wrap\" style=\"position: absolute; top: 0; right: 0; bottom: 0; left: 0; display: none\"></div>'),this.$element.append(this.$loaderWrap)),this.$loaderWrap.html(this.options.loaderTemplate),this.$loaderWrap.css({\"margin-top\":e.position().top}),this.collapsed||(e.fadeTo(this.options.transitionDuration,0),this.$loaderWrap.fadeIn(this.options.transitionDuration))},s.prototype._hideLoader=function(){this.$loaderWrap.fadeOut(this.options.transitionDuration),this.$element.find(this.options.bodySelector).fadeTo(this.options.transitionDuration,1)},s.prototype._initHandlers=function(){this.$element.on(\"click.collapse.widgster\",\"[data-widgster=collapse]\",i.proxy(this.collapse,this)),this.$element.on(\"click.expand.widgster\",\"[data-widgster=expand]\",i.proxy(this.expand,this)),this.$element.on(\"click.close.widgster\",\"[data-widgster=close]\",i.proxy(this.close,this)),this.$element.on(\"click.load.widgster\",\"[data-widgster=load]\",i.proxy(this.load,this)),this.$element.on(\"click.fullscreen.widgster\",\"[data-widgster=fullscreen]\",i.proxy(this.fullscreen,this)),this.$element.on(\"click.restore.widgster\",\"[data-widgster=restore]\",i.proxy(this.restore,this))},i.fn.widgster=function(e){return this.each((function(){var t=i(this),n=t.data(\"widgster\"),o=i.extend({},s.DEFAULTS,function(e,t){var i={};for(var s in t)if(\"widgster\"==s.slice(0,\"widgster\".length)){var n=s.slice(\"widgster\".length,s.length);i[n=n.charAt(0).toLowerCase()+n.slice(1)]=t[s]}return i}(0,t.data()),\"object\"==typeof e&&e);n||t.data(\"widgster\",new s(this,o)),\"string\"==typeof e&&n[e]()}))},i.fn.widgster.Constructor=s):console.warn(\"Widgster must be executed in a browser environment with jQuery defined\")}(\"undefined\"!=typeof window?window:this)},Qy5X:function(e,t,i){\"use strict\";i.d(t,\"a\",(function(){return s}));class s{constructor(e){this.$el=jQuery(e.nativeElement)}ngOnInit(){new Dropzone(this.$el[0],{addRemoveLinks:!0}),Dropzone.autoDiscover=!1}}},STUT:function(e,t,i){\"use strict\";i.d(t,\"a\",(function(){return l})),i.d(t,\"c\",(function(){return a})),i.d(t,\"b\",(function(){return r})),i.d(t,\"d\",(function(){return h})),i.d(t,\"e\",(function(){return d}));var s=i(\"8Y7J\"),n=(i(\"s7LF\"),i(\"XNiG\")),o=i(\"1G5W\");class l{constructor(){this._searchCache={},this._searchCacheInclusive={},this._prevSkippedItems={}}transform(e,t=\"\",i=0,s=0,n){t=t.toLowerCase(),e!==this._lastOptions&&(this._lastOptions=e,this._searchCache={},this._searchCacheInclusive={},this._prevSkippedItems={});const o=this._searchCache.hasOwnProperty(t)?this._searchCache[t]:this._doSearch(e,t,i,n);return e.length<=i?o:this._limitRenderedItems(o,s)}_getSubsetOptions(e,t,i){const s=this._searchCacheInclusive[i];return!0===s?t:\"number\"==typeof s?[...t,...e.slice(s)]:e}_doSearch(e,t,i,s){const n=t.slice(0,-1),o=this._searchCache[n],l=this._prevSkippedItems[n]||0;o&&(e=this._getSubsetOptions(e,o,n));const h=e.length,r=i>0?Math.min(i,h):h,d=s(t),a=[];let c=0,p=0,u=0;const f=e=>d.test(e.name),g=t=>e.filter(e=>e.parentId===t.id),m=t=>e.find(e=>t.parentId===e.id),v=e=>{a.push(e),p++},w=o?()=>u++:()=>{};for(;c<h&&p<r;++c){const t=e[c];if(f(t))v(t);else{if(void 0===t.parentId&&g(t).some(f)){v(t);continue}if(void 0!==t.parentId&&f(m(t))){v(t);continue}w()}}const y=c+l;return this._searchCache[t]=a,this._searchCacheInclusive[t]=c===h||y,this._prevSkippedItems[t]=u+l,a}_limitRenderedItems(e,t){return e.length>t&&t>0?e.slice(0,t):e}}class h{constructor(e){this.elemRef=e}get element(){return this.elemRef.nativeElement}ngOnInit(){this.focus()}ngOnChanges(e){const t=e.ssAutofocus;t&&!t.isFirstChange()&&this.focus()}focus(){this.ssAutofocus||this.element.focus&&this.element.focus()}}class r{constructor(e,t,i,o,l){this.element=e,this.fb=t,this.searchFilter=i,this.cdRef=l,this.filterControl=this.fb.control(\"\"),this.disabled=!1,this.disabledSelection=!1,this.searchFunction=this._escapeRegExp,this.selectionLimitReached=new s.EventEmitter,this.dropdownClosed=new s.EventEmitter,this.dropdownOpened=new s.EventEmitter,this.onAdded=new s.EventEmitter,this.onRemoved=new s.EventEmitter,this.onLazyLoad=new s.EventEmitter,this.onFilter=this.filterControl.valueChanges,this.destroyed$=new n.a,this.filteredOptions=[],this.lazyLoadOptions=[],this.renderFilteredOptions=[],this.model=[],this.prevModel=[],this.numSelected=0,this.renderItems=!0,this.checkAllSearchRegister=new Set,this.checkAllStatus=!1,this.loadedValueIds=[],this._focusBack=!1,this.defaultSettings={closeOnClickOutside:!0,pullRight:!1,enableSearch:!1,searchRenderLimit:0,searchRenderAfter:1,searchMaxLimit:0,searchMaxRenderedItems:0,checkedStyle:\"checkboxes\",buttonClasses:\"btn btn-primary dropdown-toggle\",containerClasses:\"dropdown-inline\",selectionLimit:0,minSelectionLimit:0,closeOnSelect:!1,autoUnselect:!1,showCheckAll:!1,showUncheckAll:!1,fixedTitle:!1,dynamicTitleMaxItems:3,maxHeight:\"300px\",isLazyLoad:!1,stopScrollPropagation:!1,loadViewDistance:1,selectAddedValues:!1,ignoreLabels:!1,maintainSelectionOrderInTitle:!1,focusBack:!0},this.defaultTexts={checkAll:\"Check all\",uncheckAll:\"Uncheck all\",checked:\"checked\",checkedPlural:\"checked\",searchPlaceholder:\"Search...\",searchEmptyResult:\"Nothing found...\",searchNoRenderText:\"Type in search box to see results...\",defaultTitle:\"Select\",allSelected:\"All selected\"},this._isVisible=!1,this._workerDocClicked=!1,this.onModelChange=e=>{},this.onModelTouched=()=>{},this.differ=o.find([]).create(null),this.settings=this.defaultSettings,this.texts=this.defaultTexts}get focusBack(){return this.settings.focusBack&&this._focusBack}clickedOutside(){this.isVisible&&this.settings.closeOnClickOutside&&(this.isVisible=!1,this._focusBack=!0,this.dropdownClosed.emit())}set isVisible(e){this._isVisible=e,this._workerDocClicked=!e&&this._workerDocClicked}get isVisible(){return this._isVisible}get searchLimit(){return this.settings.searchRenderLimit}get searchRenderAfter(){return this.settings.searchRenderAfter}get searchLimitApplied(){return this.searchLimit>0&&this.options.length>this.searchLimit}getItemStyle(e){}getItemStyleSelectionDisabled(){if(this.disabledSelection)return{cursor:\"default\"}}ngOnInit(){this.title=this.texts.defaultTitle||\"\",this.filterControl.valueChanges.pipe(Object(o.a)(this.destroyed$)).subscribe(()=>{this.updateRenderItems(),this.settings.isLazyLoad&&this.load()})}ngOnChanges(e){if(e.options){if(this.options=this.options||[],this.parents=this.options.filter(e=>\"number\"==typeof e.parentId).map(e=>e.parentId),this.updateRenderItems(),this.settings.isLazyLoad&&this.settings.selectAddedValues&&0===this.loadedValueIds.length&&(this.loadedValueIds=this.loadedValueIds.concat(e.options.currentValue.map(e=>e.id))),this.settings.isLazyLoad&&this.settings.selectAddedValues&&e.options.previousValue){const t=e.options.currentValue.filter(e=>-1===this.loadedValueIds.indexOf(e.id));this.loadedValueIds.concat(t.map(e=>e.id)),this.checkAllStatus?this.addChecks(t):this.checkAllSearchRegister.size>0&&this.checkAllSearchRegister.forEach(e=>this.addChecks(this.applyFilters(t,e)))}this.texts&&this.updateTitle(),this.fireModelChange()}e.settings&&(this.settings=Object.assign({},this.defaultSettings,this.settings)),e.texts&&(this.texts=Object.assign({},this.defaultTexts,this.texts),e.texts.isFirstChange()||this.updateTitle())}ngOnDestroy(){this.destroyed$.next()}updateRenderItems(){this.renderItems=!this.searchLimitApplied||this.filterControl.value.length>=this.searchRenderAfter,this.filteredOptions=this.applyFilters(this.options,this.settings.isLazyLoad?\"\":this.filterControl.value),this.renderFilteredOptions=this.renderItems?this.filteredOptions:[],this.focusedItem=void 0}applyFilters(e,t){return this.searchFilter.transform(e,t,this.settings.searchMaxLimit,this.settings.searchMaxRenderedItems,this.searchFunction)}fireModelChange(){this.model!=this.prevModel&&(this.prevModel=this.model,this.onModelChange(this.model),this.onModelTouched(),this.cdRef.markForCheck())}writeValue(e){null!=e?(this.model=Array.isArray(e)?e:[e],this.ngDoCheck()):this.model=[]}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}ngDoCheck(){this.differ.diff(this.model)&&(this.updateNumSelected(),this.updateTitle())}validate(e){return this.model&&this.model.length?{required:{valid:!1}}:0===this.options.filter(e=>this.model.indexOf(e.id)&&!e.disabled).length?{selection:{valid:!1}}:null}registerOnValidatorChange(e){throw new Error(\"Method not implemented.\")}clearSearch(e){this.maybeStopPropagation(e),this.filterControl.setValue(\"\")}toggleDropdown(e){this.isVisible&&(this._focusBack=!0),this.isVisible=!this.isVisible,this.isVisible?this.dropdownOpened.emit():this.dropdownClosed.emit(),this.focusedItem=void 0}closeDropdown(e){this.isVisible=!0,this.toggleDropdown(e)}isSelected(e){return this.model&&this.model.indexOf(e.id)>-1}setSelected(e,t){t.isLabel||t.disabled||this.disabledSelection||setTimeout(()=>{this.maybeStopPropagation(e),this.maybePreventDefault(e);const i=this.model.indexOf(t.id),s=this.settings.selectionLimit>0&&this.model.length>=this.settings.selectionLimit,n=(e,t)=>{this.model.splice(e,1),this.onRemoved.emit(t),this.settings.isLazyLoad&&this.lazyLoadOptions.some(e=>e.id===t)&&this.lazyLoadOptions.splice(this.lazyLoadOptions.indexOf(this.lazyLoadOptions.find(e=>e.id===t)),1)};if(i>-1){(void 0===this.settings.minSelectionLimit||this.numSelected>this.settings.minSelectionLimit)&&n(i,t.id);const e=t.parentId&&this.model.indexOf(t.parentId);e>-1?n(e,t.parentId):this.parents.indexOf(t.id)>-1&&this.options.filter(e=>this.model.indexOf(e.id)>-1&&e.parentId===t.id).forEach(e=>n(this.model.indexOf(e.id),e.id))}else{if(s&&!this.settings.autoUnselect)return void this.selectionLimitReached.emit(this.model.length);{const e=e=>{this.model.push(e),this.onAdded.emit(e),this.settings.isLazyLoad&&!this.lazyLoadOptions.some(t=>t.id===e)&&this.lazyLoadOptions.push(t)};e(t.id),s?n(0,this.model[0]):t.parentId&&!this.settings.ignoreLabels?this.options.filter(e=>e.id!==t.id&&e.parentId===t.parentId).every(e=>this.model.indexOf(e.id)>-1)&&e(t.parentId):this.parents.indexOf(t.id)>-1&&this.options.filter(e=>this.model.indexOf(e.id)<0&&e.parentId===t.id).forEach(t=>e(t.id))}}this.settings.closeOnSelect&&this.toggleDropdown(),this.model=this.model.slice(),this.fireModelChange()},0)}updateNumSelected(){this.numSelected=this.model.filter(e=>this.parents.indexOf(e)<0).length||0}updateTitle(){let e=this.options.length;if(this.settings.ignoreLabels&&(e=this.options.filter(e=>!e.isLabel).length),0===this.numSelected||this.settings.fixedTitle)this.title=this.texts?this.texts.defaultTitle:\"\";else if(this.settings.displayAllSelectedText&&this.model.length===e)this.title=this.texts?this.texts.allSelected:\"\";else if(this.settings.dynamicTitleMaxItems&&this.settings.dynamicTitleMaxItems>=this.numSelected){const e=this.settings.isLazyLoad&&this.lazyLoadOptions.length?this.lazyLoadOptions:this.options;let t;if(this.settings.maintainSelectionOrderInTitle){const i=e.map((e,t)=>e.id);t=this.model.map(e=>i.indexOf(e)).filter(e=>e>-1).map(t=>e[t])}else t=e.filter(e=>this.model.indexOf(e.id)>-1);this.title=t.map(e=>e.name).join(\", \")}else this.title=this.numSelected+\" \"+(1===this.numSelected?this.texts.checked:this.texts.checkedPlural);this.cdRef.markForCheck()}searchFilterApplied(){return this.settings.enableSearch&&this.filterControl.value&&this.filterControl.value.length>0}addChecks(e){const t=e.filter(e=>!(e.disabled||-1!==this.model.indexOf(e.id)||this.settings.ignoreLabels&&e.isLabel||(this.onAdded.emit(e.id),0))).map(e=>e.id);this.model=this.model.concat(t)}checkAll(){this.disabledSelection||(this.addChecks(this.searchFilterApplied()?this.filteredOptions:this.options),this.settings.isLazyLoad&&this.settings.selectAddedValues&&(this.searchFilterApplied()&&!this.checkAllStatus?this.checkAllSearchRegister.add(this.filterControl.value):(this.checkAllSearchRegister.clear(),this.checkAllStatus=!0),this.load()),this.fireModelChange())}uncheckAll(){if(!this.disabledSelection){const e=this.model;let t=this.searchFilterApplied()?this.filteredOptions.map(e=>e.id):this.model;t=e.filter(e=>t.indexOf(e)>-1),this.model=this.model.filter(e=>t.indexOf(e)<0&&void 0===this.settings.minSelectionLimit||t.indexOf(e)<this.settings.minSelectionLimit||(this.onRemoved.emit(e),!1)),this.settings.isLazyLoad&&this.settings.selectAddedValues&&(this.searchFilterApplied()?this.checkAllSearchRegister.has(this.filterControl.value)&&(this.checkAllSearchRegister.delete(this.filterControl.value),this.checkAllSearchRegister.forEach((function(e){const i=this.applyFilters(this.options.filter(e=>t.indexOf(e.id)>-1),e);this.addChecks(i)}))):(this.checkAllSearchRegister.clear(),this.checkAllStatus=!1),this.load()),this.fireModelChange()}}preventCheckboxCheck(e,t){(t.disabled||this.settings.selectionLimit&&!this.settings.autoUnselect&&this.model.length>=this.settings.selectionLimit&&-1===this.model.indexOf(t.id)&&this.maybePreventDefault(e))&&this.maybePreventDefault(e)}isCheckboxDisabled(e){return this.disabledSelection||e&&e.disabled}checkScrollPosition(e){e.target.scrollTop>=e.target.scrollHeight-(1+this.settings.loadViewDistance)*e.target.clientHeight-1-1&&this.load()}checkScrollPropagation(e,t){const i=t.scrollTop;(e.deltaY>0&&i+t.clientHeight>=t.scrollHeight||e.deltaY<0&&i<=0)&&(e=e||window.event,this.maybePreventDefault(e),e.returnValue=!1)}trackById(e,t){return t.id}load(){this.onLazyLoad.emit({length:this.options.length,filter:this.filterControl.value,checkAllSearches:this.checkAllSearchRegister,checkAllStatus:this.checkAllStatus})}focusItem(e,t){if(!this.isVisible)return;this.maybePreventDefault(t);const i=this.filteredOptions.indexOf(this.focusedItem);if(-1===i)return void(this.focusedItem=this.filteredOptions[0]);const s=i+e;this.focusedItem=this.filteredOptions[s<0?this.filteredOptions.length-1:s%this.filteredOptions.length]}maybePreventDefault(e){e&&e.preventDefault&&e.preventDefault()}maybeStopPropagation(e){e&&e.stopPropagation&&e.stopPropagation()}_escapeRegExp(e){const t=e.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\"\\\\$&\");return new RegExp(t,\"i\")}}class d{constructor(){this.onOffClick=new s.EventEmitter}onClick(e){this._clickEvent=e}onTouch(e){this._touchEvent=e}onDocumentClick(e){e!==this._clickEvent&&this.onOffClick.emit(e)}onDocumentTouch(e){e!==this._touchEvent&&this.onOffClick.emit(e)}}class a{}},nRic:function(e,t,i){\"use strict\";i.d(t,\"a\",(function(){return s})),i(\"QTam\");class s{constructor(e){this.$el=jQuery(e.nativeElement),jQuery.fn.widgster.Constructor.DEFAULTS.bodySelector=\".widget-body\",jQuery(document).on(\"close.widgster\",e=>{let t=jQuery(e.target).closest(' [class*=\"col-\"]:not(.widget-container)');t.find(\".widget\").not(e.target).length||t.remove()}),jQuery(document).on(\"fullscreened.widgster\",e=>{jQuery(e.target).find(\"div.widget-body\").addClass(\"scrolling\")}).on(\"restored.widgster\",e=>{jQuery(e.target).find(\"div.widget-body\").removeClass(\"scrolling\")})}ngOnInit(){this.$el.widgster()}}}}]);","extractedComments":[]}